â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     VJ CONSOLE - WORKER INTEGRATION                          â•‘
â•‘                         Multi-Process Architecture                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ MASTER CONTROL SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€ Master Control â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€ Now Playing â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                               â”‚  â”‚                                      â”‚  â”‚
â”‚  â”‚  [W] Start All Workers        â”‚  â”‚  Spotify: âœ“ Connected               â”‚  â”‚
â”‚  â”‚  [R] Restart Workers          â”‚  â”‚  Now Playing: Artist â€” Track        â”‚  â”‚
â”‚  â”‚  [S] Synesthesia     â— RUNNINGâ”‚  â”‚  ğŸµ Spotify  â”‚  2:34 / 3:45         â”‚  â”‚
â”‚  â”‚  [M] ProjMilkSyphon  â—‹ stoppedâ”‚  â”‚                                      â”‚  â”‚
â”‚  â”‚  [P] Processing Apps 0 runningâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  [K] Karaoke Engine  â— ACTIVE â”‚                                            â”‚
â”‚  â”‚                               â”‚  â”Œâ”€â”€â”€ Song Categories â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Press letter key to control  â”‚  â”‚                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  Primary: Energetic Dance            â”‚  â”‚
â”‚                                      â”‚  energetic     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 0.89      â”‚  â”‚
â”‚  â”Œâ”€â”€â”€ Workers (Multi-Process) â”€â”€â”€â”  â”‚  dance         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  0.82      â”‚  â”‚
â”‚  â”‚                               â”‚  â”‚  upbeat        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   0.76      â”‚  â”‚
â”‚  â”‚  âœ“ process_manager   [running]â”‚  â”‚  electronic    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    0.68      â”‚  â”‚
â”‚  â”‚  âœ“ spotify_monitor   [running]â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  âœ“ virtualdj_monitor [running]â”‚                                            â”‚
â”‚  â”‚  âœ“ lyrics_fetcher    [running]â”‚  â”Œâ”€â”€â”€ Processing Pipeline â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â—‹ audio_analyzer    [stopped]â”‚  â”‚                                      â”‚  â”‚
â”‚  â”‚  â—‹ osc_debugger      [stopped]â”‚  â”‚  âœ“ Lyrics Fetch                      â”‚  â”‚
â”‚  â”‚                               â”‚  â”‚  âœ“ LLM Analysis                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  âœ“ Categories                        â”‚  â”‚
â”‚                                      â”‚  âœ“ Line Processing                   â”‚  â”‚
â”‚  â”Œâ”€â”€â”€ Processing Apps â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  âŸ³ Image Prompt                     â”‚  â”‚
â”‚  â”‚                               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  â–¸ WhackAMole                 â”‚                                            â”‚
â”‚  â”‚    SnakeGame                  â”‚  â”Œâ”€â”€â”€ OSC Messages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    MIDIController             â”‚  â”‚                                      â”‚  â”‚
â”‚  â”‚    (no apps found)            â”‚  â”‚  21:25:34 /karaoke/track [...]       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  21:25:35 /karaoke/pos [0.623]       â”‚  â”‚
â”‚                                      â”‚  21:25:35 /karaoke/categories [...]  â”‚  â”‚
â”‚  â”Œâ”€â”€â”€ Services â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚                               â”‚                                            â”‚
â”‚  â”‚  âœ“ Spotify API   Credentials  â”‚                                            â”‚
â”‚  â”‚  â–³ VirtualDJ     Folder found  â”‚                                            â”‚
â”‚  â”‚  âœ“ Ollama LLM    llama3, gemma â”‚                                            â”‚
â”‚  â”‚  â—‹ ComfyUI       Not running   â”‚                                            â”‚
â”‚  â”‚  âœ“ OpenAI API    Key configuredâ”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ KEY FEATURES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                               â”‚
â”‚  âœ“ Workers run as independent processes                                      â”‚
â”‚  âœ“ TUI can crash - workers keep running                                      â”‚
â”‚  âœ“ TUI restart auto-discovers and reconnects to workers                      â”‚
â”‚  âœ“ Press [W] to start all workers from TUI                                   â”‚
â”‚  âœ“ Press [R] to restart all workers                                          â”‚
â”‚  âœ“ Real-time worker status in dedicated panel                                â”‚
â”‚  âœ“ Process manager supervises and auto-restarts crashed workers              â”‚
â”‚  âœ“ Hybrid IPC: OSC (telemetry) + Unix sockets (control)                     â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ ARCHITECTURE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                               â”‚
â”‚  vj_console.py (TUI)                                                          â”‚
â”‚      â†“ import WorkerCoordinator                                               â”‚
â”‚      â†“ coordinator = WorkerCoordinator()                                      â”‚
â”‚      â†“ coordinator.start()  # on_mount                                        â”‚
â”‚      â†“                                                                         â”‚
â”‚      â”œâ”€â†’ discover_workers()  # scans /tmp/vj-bus/*.sock                      â”‚
â”‚      â”œâ”€â†’ get_all_workers()   # for UI display                                â”‚
â”‚      â”œâ”€â†’ start_worker(name)  # via process_manager                           â”‚
â”‚      â””â”€â†’ restart_worker(name) # via process_manager                          â”‚
â”‚                                                                               â”‚
â”‚  Workers (independent processes):                                             â”‚
â”‚      â€¢ process_manager    - Supervisor daemon                                 â”‚
â”‚      â€¢ spotify_monitor    - Polls Spotify API every 2s                        â”‚
â”‚      â€¢ virtualdj_monitor  - Watches now_playing.txt                           â”‚
â”‚      â€¢ lyrics_fetcher     - LRCLIB API + LLM analysis                         â”‚
â”‚      â€¢ audio_analyzer     - 60 fps audio features (optional)                  â”‚
â”‚      â€¢ osc_debugger       - OSC message capture (optional)                    â”‚
â”‚                                                                               â”‚
â”‚  Communication:                                                               â”‚
â”‚      Control:   Unix sockets at /tmp/vj-bus/{worker}.sock                    â”‚
â”‚      Telemetry: OSC messages to 127.0.0.1:9000                               â”‚
â”‚      Discovery: Socket file scanning every 5 seconds                          â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ USAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                               â”‚
â”‚  # Start VJ Console                                                           â”‚
â”‚  $ cd python-vj                                                               â”‚
â”‚  $ python vj_console.py                                                       â”‚
â”‚                                                                               â”‚
â”‚  # Inside TUI:                                                                â”‚
â”‚  Press [W] â†’ Start all workers                                                â”‚
â”‚  Press [R] â†’ Restart all workers                                              â”‚
â”‚  Press [1] â†’ Master Control screen                                            â”‚
â”‚  Press [2] â†’ OSC debug view                                                   â”‚
â”‚  Press [3] â†’ Song AI debug                                                    â”‚
â”‚  Press [4] â†’ All logs                                                         â”‚
â”‚  Press [5] â†’ Audio analysis                                                   â”‚
â”‚  Press [Q] â†’ Quit (workers keep running!)                                     â”‚
â”‚                                                                               â”‚
â”‚  # Workers survive TUI crashes and reconnect on restart!                      â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ TESTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                               â”‚
â”‚  $ python test_vj_console_integration.py                                     â”‚
â”‚                                                                               â”‚
â”‚  [1/5] Testing vj_console import... âœ“                                        â”‚
â”‚  [2/5] Testing WorkerCoordinator import... âœ“                                 â”‚
â”‚  [3/5] Testing worker discovery... âœ“                                         â”‚
â”‚        Discovered 4 workers (all running)                                     â”‚
â”‚  [4/5] Checking VJConsoleApp integration... âœ“                                â”‚
â”‚        - worker_coordinator attribute âœ“                                       â”‚
â”‚        - action_start_all_workers âœ“                                           â”‚
â”‚        - action_restart_all_workers âœ“                                         â”‚
â”‚  [5/5] Checking WorkersPanel widget... âœ“                                     â”‚
â”‚                                                                               â”‚
â”‚  âœ“ ALL TESTS PASSED - Integration successful!                                â”‚
â”‚                                                                               â”‚
â”‚  Unit tests:        13/13 passing                                             â”‚
â”‚  Integration tests:  7/7 passing                                              â”‚
â”‚  Total:            20/20 passing (100%)                                       â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
