# VJ Console User Interface Specification

## Overview

The VJ Console presents a **7-screen terminal user interface (TUI)** with:

- Keyboard-driven navigation
- Reactive live-updating panels
- Persistent settings
- Status indicators for all services

---

## Screen Navigation

### Keyboard Shortcuts

| Key | Action |
|-----|--------|
| `1` | Switch to Master Control screen |
| `2` | Switch to OSC View screen |
| `3` | Switch to Song AI Debug screen |
| `4` | Switch to All Logs screen |
| `5` | Switch to MIDI screen |
| `6` | Switch to Launchpad screen |
| `7` | Switch to Shaders screen |
| `S` | Toggle Synesthesia start/stop |
| `M` | Toggle MilkSyphon start/stop |
| `K` | Toggle Karaoke/Music Monitor |
| `+` / `=` | Increase lyrics timing offset (+200ms) |
| `-` / `_` | Decrease lyrics timing offset (-200ms) |
| `Q` | Quit application |

---

## Screen 1: Master Control

The main dashboard showing all services and playback status.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         VJ Console Master Control                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Startup Control Panel        â”‚ â”‚ Now Playing                       â”‚ â”‚
â”‚ â”‚                              â”‚ â”‚                                   â”‚ â”‚
â”‚ â”‚ Start on Launch:             â”‚ â”‚ Artist: <artist name>             â”‚ â”‚
â”‚ â”‚ [ ] Synesthesia              â”‚ â”‚ Title:  <song title>              â”‚ â”‚
â”‚ â”‚ [ ] Karaoke Overlay          â”‚ â”‚ Album:  <album>                   â”‚ â”‚
â”‚ â”‚ [ ] LM Studio                â”‚ â”‚ Position: 2:34 / 4:12             â”‚ â”‚
â”‚ â”‚ [ ] Music Monitor            â”‚ â”‚ Source: spotify_applescript       â”‚ â”‚
â”‚ â”‚ [ ] Magic                    â”‚ â”‚ Poll: 42ms                        â”‚ â”‚
â”‚ â”‚                              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚ Auto-restart:                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [ ] Synesthesia              â”‚ â”‚ Playback Source                   â”‚ â”‚
â”‚ â”‚ [ ] Karaoke Overlay          â”‚ â”‚                                   â”‚ â”‚
â”‚ â”‚ [ ] LM Studio                â”‚ â”‚ ( ) Spotify (AppleScript)         â”‚ â”‚
â”‚ â”‚ [ ] Music Monitor            â”‚ â”‚ ( ) Spotify (Web API)             â”‚ â”‚
â”‚ â”‚ [ ] Magic                    â”‚ â”‚ ( ) VirtualDJ (File)              â”‚ â”‚
â”‚ â”‚                              â”‚ â”‚ ( ) VirtualDJ (OCR)               â”‚ â”‚
â”‚ â”‚ Magic file: [          ]     â”‚ â”‚ ( ) djay Pro                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ Process Monitor                                                      â”‚â”‚
â”‚ â”‚ Name              Status   CPU%   Mem MB   PID                       â”‚â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
â”‚ â”‚ Synesthesia       Running  12.3   845.2    1234                      â”‚â”‚
â”‚ â”‚ Magic             Running   8.1   432.1    1235                      â”‚â”‚
â”‚ â”‚ LM Studio         Running  45.2  2048.0    1236                      â”‚â”‚
â”‚ â”‚ KaraokeOverlay    Stopped   -       -        -                       â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Panels

| Panel | Description |
|-------|-------------|
| **Startup Control** | Checkboxes for auto-start and auto-restart preferences |
| **Now Playing** | Current track info, position, source, poll timing |
| **Playback Source** | Radio buttons to select active music monitor |
| **Process Monitor** | Table of external apps with CPU/memory/PID |

### Interactions

- **Checkboxes**: Toggle with mouse or Space
- **Radio buttons**: Select with mouse or arrow keys
- **Magic file input**: Text field for .magic file path

---

## Screen 2: OSC View

Real-time OSC message log for debugging.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              OSC Message Log                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 14:23:45.123  /karaoke/track      [1, "spotify", "Artist", "Song", ...]â”‚
â”‚ 14:23:45.234  /karaoke/pos        [125.4, 1]                            â”‚
â”‚ 14:23:45.456  /karaoke/line/active [3]                                  â”‚
â”‚ 14:23:46.234  /karaoke/pos        [126.4, 1]                            â”‚
â”‚ 14:23:46.789  /shader/load        ["BitStreamer", 0.75, 0.3]            â”‚
â”‚ ...                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total: 1,247 messages | Logged: 200 | Rate: ~12/sec                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Features

- Scrollable message log (last 200 messages)
- Timestamp + address + arguments
- Statistics footer

---

## Screen 3: Song AI Debug

Pipeline visualization and AI analysis results.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Song AI Debug                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pipeline                       â”‚ Current Analysis                       â”‚
â”‚                                â”‚                                        â”‚
â”‚ âœ“ ğŸµ Detect Playback           â”‚ Track: Artist - Song Title             â”‚
â”‚ âœ“ ğŸ“œ Fetch Lyrics (3.2KB)     â”‚                                        â”‚
â”‚ âœ“ ğŸ›ï¸ Metadata + Analysis      â”‚ Categories:                            â”‚
â”‚ âœ“ ğŸ” Detect Refrain (4 lines) â”‚   energetic: 0.82                      â”‚
â”‚ âœ“ ğŸ”‘ Extract Keywords (23)    â”‚   happy: 0.71                          â”‚
â”‚ âŸ³ ğŸ·ï¸ Categorize Song          â”‚   love: 0.45                           â”‚
â”‚ â—‹ ğŸ–¥ï¸ Shader Selection         â”‚   dark: 0.12                           â”‚
â”‚                                â”‚                                        â”‚
â”‚ Status: Categorizing...        â”‚ Primary Mood: energetic                â”‚
â”‚                                â”‚                                        â”‚
â”‚                                â”‚ Keywords:                              â”‚
â”‚                                â”‚   LOVE, NIGHT, DANCE, FEEL, HEART      â”‚
â”‚                                â”‚                                        â”‚
â”‚                                â”‚ Selected Shader:                       â”‚
â”‚                                â”‚   isf/BitStreamer (score: 0.23)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Pipeline Status Icons

| Icon | Status |
|------|--------|
| `âœ“` | Complete |
| `âŸ³` | Running |
| `âœ—` | Error |
| `âŠ˜` | Skipped |
| `â—‹` | Pending |

---

## Screen 4: All Logs

Application log viewer with filtering.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Application Logs                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 14:23:45 INFO  Spotify: âœ“ connected                                     â”‚
â”‚ 14:23:45 INFO  LLM: âœ“ LM Studio (qwen2.5-coder-32b)                     â”‚
â”‚ 14:23:46 INFO  Track change: Artist - Song Title                        â”‚
â”‚ 14:23:46 INFO  Fetched LRC from LRCLIB: Artist - Song Title             â”‚
â”‚ 14:23:47 INFO  Categories: energetic, 5 moods                           â”‚
â”‚ 14:23:47 INFO  Selected shader: BitStreamer (score=0.23, usage=1)       â”‚
â”‚ 14:23:47 WARNING VirtualDJ: File removed                                 â”‚
â”‚ ...                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Log Levels

| Level | Color |
|-------|-------|
| DEBUG | dim |
| INFO | white |
| WARNING | yellow |
| ERROR | red |

---

## Screen 5: MIDI

MIDI device status and routing configuration.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              MIDI Devices                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Input Devices:                                                          â”‚
â”‚   âœ“ Launchpad Mini MK3 LPMiniMK3 MIDI Out                              â”‚
â”‚   â—‹ IAC Driver Bus 1                                                    â”‚
â”‚                                                                         â”‚
â”‚ Output Devices:                                                         â”‚
â”‚   âœ“ Launchpad Mini MK3 LPMiniMK3 MIDI In                               â”‚
â”‚   â—‹ IAC Driver Bus 1                                                    â”‚
â”‚                                                                         â”‚
â”‚ Recent MIDI Events:                                                     â”‚
â”‚   14:23:45 NoteOn  ch=0 note=55 vel=127                                â”‚
â”‚   14:23:45 NoteOff ch=0 note=55 vel=0                                  â”‚
â”‚   14:23:46 CC      ch=0 cc=1  val=64                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Screen 6: Launchpad

Launchpad Mini MK3 control panel with LED test and learn mode.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Launchpad Mini MK3 Control                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Device Status                  â”‚ LED Test                               â”‚
â”‚                                â”‚                                        â”‚
â”‚ Connection: âœ“ Connected        â”‚ [All Off] [Rainbow] [Flash]            â”‚
â”‚ Mode: Programmer               â”‚                                        â”‚
â”‚                                â”‚ Grid Preview:                          â”‚
â”‚ Synesthesia OSC:               â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   Send: localhost:7777 âœ“       â”‚ â”‚ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â”‚â—‹    â”‚              â”‚
â”‚   Recv: localhost:9999 âœ“       â”‚ â”‚ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â”‚â—‹    â”‚              â”‚
â”‚                                â”‚ â”‚ â—‹ â—‹ â— â— â—‹ â—‹ â—‹ â—‹ â”‚â—‹    â”‚              â”‚
â”‚ Learn Mode:                    â”‚ â”‚ â—‹ â—‹ â— â— â—‹ â—‹ â—‹ â—‹ â”‚â—‹    â”‚              â”‚
â”‚   Phase: IDLE                  â”‚ â”‚ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â”‚â—‹    â”‚              â”‚
â”‚   [Start Learn]                â”‚ â”‚ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â”‚â—‹    â”‚              â”‚
â”‚                                â”‚ â”‚ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â”‚â—‹    â”‚              â”‚
â”‚                                â”‚ â”‚ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â”‚â—‹    â”‚              â”‚
â”‚                                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Learn Mode Phases

| Phase | Description |
|-------|-------------|
| **IDLE** | No learning in progress |
| **WAIT_PAD** | Press a pad to map |
| **RECORD_OSC** | Waiting for OSC address input |
| **CONFIG** | Configure mapping parameters |

---

## Screen 7: Shaders

Shader browser with search and analysis.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Shader Browser                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Search: [colorful waves________________] [Search] [Analyze All]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Results: 12 shaders                                                      â”‚
â”‚                                                                         â”‚
â”‚ Name                    Mood        Energy  Colors           Score      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ isf/OceanWaves         calm         0.35   blue, cyan       0.12       â”‚
â”‚ isf/RainbowRipple      psychedelic  0.72   rainbow          0.18       â”‚
â”‚ glsl/waterfall         calm         0.45   blue, white      0.23       â”‚
â”‚ isf/ColorFlow          energetic    0.81   red, orange      0.31       â”‚
â”‚ ...                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Stats: 156 analyzed, 12 unanalyzed, ChromaDB: 156 vectors               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Features

- **Text search**: Semantic search across shader descriptions
- **Mood filtering**: Filter by mood keyword
- **Analysis status**: Show analyzed/unanalyzed counts
- **Bulk analyze**: Trigger LLM analysis for unanalyzed shaders

---

## Modal Dialogs

### Shader Search Modal

Activated by search action on Shaders screen.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Search Shaders               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Query: [                          ]       â”‚
â”‚                                           â”‚
â”‚ Search Type:                              â”‚
â”‚ ( ) Text search (description, colors)    â”‚
â”‚ (â—) Mood match (energetic, calm, etc.)   â”‚
â”‚ ( ) Feature match (energy, valence)      â”‚
â”‚                                           â”‚
â”‚        [Search]        [Cancel]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Status Indicators

### Service Status Colors

| Color | Meaning |
|-------|---------|
| Green | Running/Available |
| Yellow | Starting/Connecting |
| Red | Stopped/Error |
| Dim | Unknown/Disabled |

### Connection Indicators

| Symbol | Meaning |
|--------|---------|
| `âœ“` | Connected |
| `âœ—` | Disconnected |
| `â—‹` | Not configured |
| `âŸ³` | Reconnecting |

---

## Timing Adjustment

The timing offset adjusts lyrics display relative to audio:

| Offset | Effect |
|--------|--------|
| `-2000ms` | Lyrics appear 2 seconds early |
| `0ms` | Synchronized (default) |
| `+1000ms` | Lyrics appear 1 second late |

Adjust with `+` / `-` keys in steps of 200ms.

---

## Settings Persistence

All UI state is persisted to `python-vj/.cache/settings.json`:

- Checkbox states
- Selected playback source
- Magic file path
- Timing offset
- Poll interval
